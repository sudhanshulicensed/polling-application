(function(){"use strict";var t={7874:function(t,e,o){var l=o(8935),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("b-navbar",{staticClass:"spc-btw",attrs:{"d-flex":"","justify-content-between":"",type:"dark",variant:"info"}},[o("b-navbar-brand",{attrs:{href:"#"}},[t._v("Poll")]),o("div",{staticClass:"2"},["signup"===t.currentRoute?o("router-link",{attrs:{to:"/login"}},[o("b-button",{attrs:{variant:"dark"}},[t._v("Login")])],1):t._e(),"login"===t.currentRoute?o("router-link",{attrs:{to:"/signup"}},[o("b-button",{attrs:{variant:"dark"}},[t._v("SignUp")])],1):t._e()],1),o("router-link",{attrs:{to:"/createPoll"}},[o("b-button",{attrs:{variant:"light"}},[t._v("Create")])],1),o("router-link",{attrs:{to:"/editPoll"}},[o("b-button",{attrs:{variant:"light"}},[t._v("Edit")])],1),o("router-link",{attrs:{to:"/viewPoll"}},[o("b-button",{attrs:{variant:"light"},on:{click:t.handleEditPoll}},[t._v("View")])],1)],1),o("router-view")],1)},i=[],a=o(4665),s={data(){return{}},methods:{...(0,a.nv)(["callEditpoll"]),handleEditPoll(){this.callEditpoll()}},computed:{currentRoute(){let t=null;return t="login"===this.$route.name?"login":"signup",t}}},r=s,c=o(1001),u=(0,c.Z)(r,n,i,!1,null,null,null),d=u.exports,p=o(2809),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"})},f=[],h={name:"HomeView",components:{}},v=h,b=(0,c.Z)(v,m,f,!1,null,null,null),g=b.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("SignUpComponent")},w=[],P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"login-comp"},[o("b-jumbotron",{attrs:{header:"SignUp"}}),o("b-container",{attrs:{fluid:""}},[o("b-row",{staticClass:"row-gap my-1 justify-content-center flex-column align-items-center",attrs:{sm:"12"}},[o("b-col",{attrs:{sm:"6"}},[o("b-row",{staticClass:"row-gap"},[o("b-col",{attrs:{sm:"3"}},[o("label",[o("code",[t._v("Username")]),t._v(":")])]),o("b-col",{attrs:{sm:"9"}},[o("b-form-input",{model:{value:t.username,callback:function(e){t.username=e},expression:"username"}},[t._v(t._s(t.username))])],1)],1),o("b-row",{staticClass:"row-gap"},[o("b-col",{attrs:{sm:"3"}},[o("label",[o("code",[t._v("Password")]),t._v(":")])]),o("b-col",{attrs:{sm:"9"}},[o("b-form-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[t._v(t._s(t.password))])],1)],1),o("b-row",{staticClass:"row-gap"},[o("b-col",{attrs:{sm:"3"}},[o("label",[o("code",[t._v("Role")]),t._v(":")])]),o("b-col",{attrs:{sm:"9"}},[o("b-form-select",{attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1),o("b-row",{staticClass:"my-1"},[o("b-col",{attrs:{sm:"3"}}),o("b-col",{attrs:{sm:"6 d-flex justify-content-end"}},[o("b-button",{attrs:{variant:"info"},on:{click:t.handleSignup}},[t._v("SignUp")])],1)],1)],1)],1)])},k=[],O={name:"SignUpComponent",data(){return{info:null,username:"",password:"",selected:null,options:[{value:null,text:"Role"},{value:"admin",text:"Admin"},{value:"guest",text:"Guest"}]}},methods:{...(0,a.nv)(["callSignup"]),handleSignup(){const t={username:this.username,password:this.password,role:this.selected};console.log(this.username,this.password,this.selected),this.callSignup(t)}}},x=O,y=(0,c.Z)(x,P,k,!1,null,"536eebae",null),C=y.exports,E={name:"SignUpPage",components:{SignUpComponent:C}},T=E,L=(0,c.Z)(T,_,w,!1,null,"2a3dd20e",null),j=L.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("LoginComponent")},A=[],M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-comp"},[o("b-jumbotron",{attrs:{header:"LogIn"}}),o("b-container",{attrs:{fluid:""}},[o("b-row",{staticClass:"my-1 justify-content-center flex-column align-items-center row-gap"},[o("b-row",{attrs:{sm:"12"}},[o("b-col",{attrs:{sm:"3"}},[o("label",[o("code",[t._v("Username")]),t._v(":")])]),o("b-col",{attrs:{sm:"9"}},[o("b-form-input",{model:{value:t.username,callback:function(e){t.username=e},expression:"username"}},[t._v(t._s(t.username))])],1)],1),o("b-row",{attrs:{sm:"12"}},[o("b-col",{attrs:{sm:"3"}},[o("label",[o("code",[t._v("Password")]),t._v(":")])]),o("b-col",{attrs:{sm:"9"}},[o("b-form-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[t._v(t._s(t.password))])],1)],1),o("b-row",[o("b-col",{attrs:{sm:"3"}}),o("b-col",{attrs:{sm:"6 d-flex justify-content-end"}},[o("b-button",{attrs:{variant:"info"},on:{click:t.handleLogin}},[t._v("LogIn")])],1)],1)],1)],1)],1)},S=[],D={name:"LoginComponent",data(){return{username:"",password:""}},methods:{...(0,a.nv)(["callLogin"]),handleLogin(){const t={username:this.username,password:this.password};console.log(this.username,this.password),this.callLogin(t)}}},R=D,Z=(0,c.Z)(R,M,S,!1,null,"4cd6be4a",null),N=Z.exports,U={name:"LogInPage",components:{LoginComponent:N}},F=U,V=(0,c.Z)(F,$,A,!1,null,null,null),I=V.exports,H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CreatePoll")},B=[],G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"createPoll"},[o("b-jumbotron",{attrs:{header:"Create Poll"}}),o("b-container",{attrs:{fluid:""}},[o("b-row",{attrs:{sm:"12"}},[o("b-col",{attrs:{sm:"8"}},[o("b-row",{staticClass:"row-gap"},[o("b-col",{attrs:{sm:"3"}},[o("label",[o("code",[t._v("Question")]),t._v(":")])]),o("b-col",{attrs:{sm:"9"}},[o("b-form-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}},[t._v(t._s(t.title))])],1)],1),t._l(t.options,(function(e,l){return o("b-row",{key:l,staticClass:"row-gap"},[o("b-col",{attrs:{sm:"3"}},[o("label",[o("code",[t._v("Option"+t._s(l+1))]),t._v(":")])]),o("b-col",{attrs:{sm:"8"}},[o("b-form-input",{model:{value:e.option,callback:function(o){t.$set(e,"option",o)},expression:"item.option"}})],1),o("b-col",{attrs:{sm:"1"}},[t.options.length>3?o("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteOption(l)}}},[t._v("Delete")]):t._e()],1)],1)}))],2)],1),o("b-row",[o("b-col",[o("b-row",[o("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.handleCreatePoll()}}},[t._v("Submit")]),o("b-button",{attrs:{variant:"info"},on:{click:t.addOption}},[t._v("Add Option")])],1)],1)],1)],1)],1)},q=[],Q={name:"CreatePoll",data(){return{title:"",option:"",vote:0,checkForDelete:!0,options:[{option:"Akjh",vote:1}]}},methods:{...(0,a.nv)(["callCreatepoll"]),handleCreatePoll(){const t={title:this.title,options:this.options};console.log(t),this.callCreatepoll(t)},addOption(){""!=this.optionText&&this.options.push({option:this.option,vote:this.vote})},deleteOption(t){this.options.splice(t,1)}}},X=Q,z=(0,c.Z)(X,G,q,!1,null,"bc4d8ba6",null),J=z.exports,K={name:"CreatePollPage",components:{CreatePoll:J}},W=K,Y=(0,c.Z)(W,H,B,!1,null,"1e6e2cc7",null),tt=Y.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("EditPoll")},ot=[],lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editPoll"},[t._l(t.deletePollOption,(function(e,l){return o("b-modal",{key:l,attrs:{title:"Select option to remove from poll"},model:{value:t.showDeletePollModal,callback:function(e){t.showDeletePollModal=e},expression:"showDeletePollModal"}},[o("p",[t._v("Title: "+t._s(t.deletePollOption.title))]),t._l(t.deletePollOption.options,(function(e,l){return o("li",{key:l,attrs:{id:"no-style"}},[o("b-form-radio",{attrs:{name:"some-radios",value:"A"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._v(t._s(e.option))])],1)}))],2)})),o("b-modal",{on:{ok:function(e){return t.handleEditTitleOk(t.editTitleText,t.editPollList)}},model:{value:t.showEditTitleModal,callback:function(e){t.showEditTitleModal=e},expression:"showEditTitleModal"}},[o("p",[t._v(t._s(t.editPollTitle.title))]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editTitleText,expression:"editTitleText"}],attrs:{type:"text"},domProps:{value:t.editTitleText},on:{input:function(e){e.target.composing||(t.editTitleText=e.target.value)}}}),t._v(" "+t._s(t.editTitleText)+" ")]),o("b-modal",{attrs:{title:"Type what you want to add as an option in Poll"},on:{ok:function(e){return t.handleOk(t.text,t.editPollList)}},model:{value:t.showAddOptionModal,callback:function(e){t.showAddOptionModal=e},expression:"showAddOptionModal"}},[o("p",{staticClass:"my-4"},[t._v("Option:")]),o("b-form-input",{attrs:{placeholder:"Option for Poll"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),t._v(" "+t._s(t.text)+" ")],1),o("b-jumbotron",{attrs:{header:"Edit Poll"}}),o("b-card",{staticClass:"card"},[o("b-container",{staticClass:"container"},t._l(t.editPollList,(function(e,l){return o("div",{key:l,staticClass:"pollHolder"},[o("div",{staticClass:"pollDetail"},[o("p",{staticClass:"title"},[t._v("Title: "+t._s(e.title))]),o("p",{staticClass:"options"},[t._v("Options in Poll")]),o("ol",t._l(e.options,(function(e,l){return o("li",{key:l},[t._v(" "+t._s(e.option)+" ")])})),0)]),o("div",{staticClass:"editPollButtons"},[o("b-button",{attrs:{variant:"outline-primary"},on:{click:function(o){return t.handleUpdateTitle(e)}}},[t._v("Edit Title")]),o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"outline-primary"},on:{click:function(o){return t.handleNewOption(e)}}},[t._v("New Option ")]),o("b-button",{attrs:{variant:"outline-danger"},on:{click:function(o){return t.deleteOption(e)}}},[t._v("Delete Option ")]),o("b-button",{attrs:{variant:"outline-danger"},on:{click:function(o){return t.handleDeletePoll(e)}}},[t._v("Delete Poll")])],1)])})),0)],1)],2)},nt=[],it={name:"EditPoll",data(){return{selected:"",showDeletePollModal:!1,showAddOptionModal:!1,showEditTitleModal:!1,editPollTitle:{},deletePollOption:{},text:"",editTitleText:"",objForNewOption:{}}},computed:{...(0,a.Se)(["editPollList"])},mounted(){this.callMountRes(),this.callAddOptionRes(),this.callEditTitleRes()},methods:{...(0,a.nv)(["callDeletePoll","callEditTitle","callEditpoll","callAddOption"]),callMountRes(){console.log("mounted"),this.callEditpoll()},callAddOptionRes(){console.log("Here"),this.callEditpoll()},callEditTitleRes(){this.callEditpoll()},async handleDeletePoll(t){const e={id:t._id},o=await this.callDeletePoll(e.id);this.callMountRes(),console.log("parameter",t._id),console.log("const payload",e),console.log("res",o)},handleUpdateTitle(t){this.editPollTitle=t,this.editPollTitleOk=t,this.showEditTitleModal=!0},async handleEditTitleOk(t){const e={title:t,id:this.editPollTitle._id};await this.callEditTitle(e);this.callMountRes()},deleteOption(t){this.deletePollOption=t,this.showDeletePollModal=!0},handleNewOption(t){this.objForNewOption=t,console.log(t),console.log("in handleNewOption",this.objForNewOption),this.showAddOptionModal=!0},async handleOk(t,e){if(""!=this.text){const o={id:this.objForNewOption._id,text:this.text};console.log(e),console.log(t),console.log("handleok,",o);const l=await this.callAddOption(o);this.callAddOptionRes(),console.log(l),this.text=""}else console.log("oop")}}},at=it,st=(0,c.Z)(at,lt,nt,!1,null,"191ca6f0",null),rt=st.exports,ct={name:"EditPollPage",components:{EditPoll:rt}},ut=ct,dt=(0,c.Z)(ut,et,ot,!1,null,"d56232f2",null),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ViewPoll")},ft=[],ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editPoll"},[o("b-jumbotron",{attrs:{header:"View Poll"}}),o("b-card",{staticClass:"card"},[o("b-container",{staticClass:"container"},t._l(t.editPollList,(function(e,l){return o("div",{key:l,staticClass:"pollHolder"},[o("div",{staticClass:"pollDetail"},[o("p",{staticClass:"title"},[t._v("Title: "+t._s(e.title))]),o("p",{staticClass:"options"},[t._v("Options in Poll")]),o("ol",t._l(e.options,(function(e,l){return o("li",{key:l},[t._v(t._s(e.option))])})),0)])])})),0)],1)],1)},vt=[],bt={name:"ViewPoll",computed:{...(0,a.Se)(["editPollList"])}},gt=bt,_t=(0,c.Z)(gt,ht,vt,!1,null,"29031666",null),wt=_t.exports,Pt={name:"ViewPollPage",components:{ViewPoll:wt}},kt=Pt,Ot=(0,c.Z)(kt,mt,ft,!1,null,null,null),xt=Ot.exports;l["default"].use(p.Z);const yt=[{path:"/",name:"home",component:g},{path:"/about",name:"about",component:()=>o.e(443).then(o.bind(o,5830))},{path:"/signup",name:"signup",component:j},{path:"/login",name:"login",component:I},{path:"/createPoll",name:"createPoll",component:tt},{path:"/editPoll",name:"editPoll",component:pt},{path:"/viewPoll",name:"viewPoll",component:xt}],Ct=new p.Z({mode:"history",base:"/",routes:yt});var Et=Ct,Tt=o(6166),Lt=o.n(Tt);l["default"].use(a.ZP);var jt=new a.ZP.Store({state:{editResponse:null},getters:{editPollList:t=>t.editResponse},mutations:{CALLEDITPOLL(t,e){t.editResponse=e}},actions:{async callSignup({commit:t},e){await Lt().post(`https://secure-refuge-14993.herokuapp.com/add_user?username=${e.username}&password=${e.password}&role=${e.role}`)},async callLogin({commit:t},e){await Lt().post(`https://secure-refuge-14993.herokuapp.com/login?username=${e.username}&password=${e.password}`)},async callCreatepoll({commit:t},e){let o="";for(let l=0;l<e.options.length-1;l++)o=o.concat(e.options[l].option,"____"),console.log(o);o=o.concat(e.options[e.options.length-1].option),console.log(o);await Lt().post(`https://secure-refuge-14993.herokuapp.com/add_poll?title=${e.title}%20polll&options=${o}`)},async callEditpoll({commit:t}){const e=await Lt().get("https://secure-refuge-14993.herokuapp.com/list_polls");t("CALLEDITPOLL",e.data.data)},async callDeletePoll({commit:t},e){const o=await Lt().post(`https://secure-refuge-14993.herokuapp.com/delete_poll?id=${e}`);return o},async callEditTitle({commit:t},e){console.log("payLoad",e);const o=await Lt().post(`https://secure-refuge-14993.herokuapp.com/update_poll_title?id=${e.id}&title=${e.title}`);return console.log("callEditPoll",o),o},async callAddOption({commit:t},e){console.log("payload",e);const o=await Lt().post(`https://secure-refuge-14993.herokuapp.com/add_new_option?id=${e.id}&option_text=${e.text}`);return console.log("callAddOption",o),o}}}),$t=o(150);l["default"].use($t.XG7),l["default"].config.productionTip=!1,new l["default"]({router:Et,store:jt,render:t=>t(d)}).$mount("#app")}},e={};function o(l){var n=e[l];if(void 0!==n)return n.exports;var i=e[l]={exports:{}};return t[l](i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,l,n,i){if(!l){var a=1/0;for(u=0;u<t.length;u++){l=t[u][0],n=t[u][1],i=t[u][2];for(var s=!0,r=0;r<l.length;r++)(!1&i||a>=i)&&Object.keys(o.O).every((function(t){return o.O[t](l[r])}))?l.splice(r--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[l,n,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var l in e)o.o(e,l)&&!o.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce((function(e,l){return o.f[l](t,e),e}),[]))}}(),function(){o.u=function(t){return"js/about.d0a79096.js"}}(),function(){o.miniCssF=function(t){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="poll-application:";o.l=function(l,n,i,a){if(t[l])t[l].push(n);else{var s,r;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==l||d.getAttribute("data-webpack")==e+i){s=d;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",e+i),s.src=l),t[l]=[n];var p=function(e,o){s.onerror=s.onload=null,clearTimeout(m);var n=t[l];if(delete t[l],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(t){return t(o)})),e)return e(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.f.j=function(e,l){var n=o.o(t,e)?t[e]:void 0;if(0!==n)if(n)l.push(n[2]);else{var i=new Promise((function(o,l){n=t[e]=[o,l]}));l.push(n[2]=i);var a=o.p+o.u(e),s=new Error,r=function(l){if(o.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var i=l&&("load"===l.type?"missing":l.type),a=l&&l.target&&l.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}};o.l(a,r,"chunk-"+e,e)}},o.O.j=function(e){return 0===t[e]};var e=function(e,l){var n,i,a=l[0],s=l[1],r=l[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(r)var u=r(o)}for(e&&e(l);c<a.length;c++)i=a[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},l=self["webpackChunkpoll_application"]=self["webpackChunkpoll_application"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=o.O(void 0,[998],(function(){return o(7874)}));l=o.O(l)})();
//# sourceMappingURL=app.64fe8b77.js.map