{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    editResponse: null\n  },\n  getters: {\n    editPollList: state => state.editResponse\n  },\n  mutations: {\n    CALLEDITPOLL(state, response) {\n      state.editResponse = response;\n    }\n\n  },\n  actions: {\n    async callSignup({\n      commit\n    }, payLoad) {\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/add_user?username=${payLoad.username}&password=${payLoad.password}&role=${payLoad.role}`);\n    },\n\n    async callLogin({\n      commit\n    }, payLoad) {\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/login?username=${payLoad.username}&password=${payLoad.password}`);\n    },\n\n    async callCreatepoll({\n      commit\n    }, payLoad) {\n      let string = \"\";\n\n      for (let i = 0; i < payLoad.options.length - 1; i++) {\n        string = string.concat(payLoad.options[i].option, \"____\");\n        console.log(string);\n      }\n\n      string = string.concat(payLoad.options[payLoad.options.length - 1].option);\n      console.log(string);\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/add_poll?title=${payLoad.title}%20polll&options=${string}`);\n    },\n\n    async callEditpoll({\n      commit\n    }) {\n      const response = await axios.get(`https://secure-refuge-14993.herokuapp.com/list_polls`);\n      commit(\"CALLEDITPOLL\", response.data.data);\n    },\n\n    async callDeletePoll({\n      commit\n    }, payLoad) {\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/delete_poll?id=${payLoad}`);\n      return response;\n    },\n\n    async callEditTitle({\n      commit\n    }, payLoad) {\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/update_poll_title?id=${payLoad.id}&title=${payLoad.title}`);\n      return response;\n    },\n\n    async callAddOption({\n      commit\n    }, payLoad) {\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/add_new_option?id=${payLoad.id}&option_text=${payLoad.text}`);\n      return response;\n    },\n\n    async callDeleteOption({\n      commit\n    }, payLoad) {\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/delete_poll_option?id=${payLoad.id}&option_text=${payLoad.text}`);\n    }\n\n  }\n});","map":{"version":3,"names":["Vue","Vuex","axios","use","Store","state","editResponse","getters","editPollList","mutations","CALLEDITPOLL","response","actions","callSignup","commit","payLoad","post","username","password","role","callLogin","callCreatepoll","string","i","options","length","concat","option","console","log","title","callEditpoll","get","data","callDeletePoll","callEditTitle","id","callAddOption","text","callDeleteOption"],"sources":["/home/etech/Desktop/vue_assignment/poll application/poll-application/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    editResponse: null,\n  },\n  getters: {\n    editPollList: (state) => state.editResponse,\n  },\n  mutations: {\n    CALLEDITPOLL(state, response) {\n    state.editResponse = response;\n    }\n  },\n  actions: {\n    async callSignup({commit}, payLoad){\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/add_user?username=${payLoad.username}&password=${payLoad.password}&role=${payLoad.role}`);\n    },\n    async callLogin({commit}, payLoad) {\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/login?username=${payLoad.username}&password=${payLoad.password}`);\n    },\n    async callCreatepoll({commit}, payLoad){\n      let string = \"\";\n      for(let i = 0; i< payLoad.options.length-1; i++) {\n        string = string.concat(payLoad.options[i].option, \"____\")\n        console.log(string);\n      }\n      string = string.concat(payLoad.options[payLoad.options.length -1].option);\n      console.log(string);\n      const response = await axios.post\n      (`https://secure-refuge-14993.herokuapp.com/add_poll?title=${payLoad.title}%20polll&options=${string}`);\n    },\n    async callEditpoll({commit}){\n      const response = await axios.get(`https://secure-refuge-14993.herokuapp.com/list_polls`);\n      commit(\"CALLEDITPOLL\", response.data.data)\n    },\n    async callDeletePoll({commit}, payLoad){\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/delete_poll?id=${payLoad}`);\n      return response;\n    },\n    async callEditTitle({commit}, payLoad){\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/update_poll_title?id=${payLoad.id}&title=${payLoad.title}`);\n      return response;\n    },\n    async callAddOption({commit}, payLoad){\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/add_new_option?id=${payLoad.id}&option_text=${payLoad.text}`);\n      return response;\n    },\n    async callDeleteOption({commit}, payLoad){\n      const response = await axios.post(`https://secure-refuge-14993.herokuapp.com/delete_poll_option?id=${payLoad.id}&option_text=${payLoad.text}`)\n    }\n  },\n})\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;EAC5BC,KAAK,EAAE;IACLC,YAAY,EAAE;EADT,CADqB;EAI5BC,OAAO,EAAE;IACPC,YAAY,EAAGH,KAAD,IAAWA,KAAK,CAACC;EADxB,CAJmB;EAO5BG,SAAS,EAAE;IACTC,YAAY,CAACL,KAAD,EAAQM,QAAR,EAAkB;MAC9BN,KAAK,CAACC,YAAN,GAAqBK,QAArB;IACC;;EAHQ,CAPiB;EAY5BC,OAAO,EAAE;IACP,MAAMC,UAAN,CAAiB;MAACC;IAAD,CAAjB,EAA2BC,OAA3B,EAAmC;MACjC,MAAMJ,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CAAY,+DAA8DD,OAAO,CAACE,QAAS,aAAYF,OAAO,CAACG,QAAS,SAAQH,OAAO,CAACI,IAAK,EAA7I,CAAvB;IACD,CAHM;;IAIP,MAAMC,SAAN,CAAgB;MAACN;IAAD,CAAhB,EAA0BC,OAA1B,EAAmC;MACjC,MAAMJ,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CAAY,4DAA2DD,OAAO,CAACE,QAAS,aAAYF,OAAO,CAACG,QAAS,EAArH,CAAvB;IACD,CANM;;IAOP,MAAMG,cAAN,CAAqB;MAACP;IAAD,CAArB,EAA+BC,OAA/B,EAAuC;MACrC,IAAIO,MAAM,GAAG,EAAb;;MACA,KAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAER,OAAO,CAACS,OAAR,CAAgBC,MAAhB,GAAuB,CAAzC,EAA4CF,CAAC,EAA7C,EAAiD;QAC/CD,MAAM,GAAGA,MAAM,CAACI,MAAP,CAAcX,OAAO,CAACS,OAAR,CAAgBD,CAAhB,EAAmBI,MAAjC,EAAyC,MAAzC,CAAT;QACAC,OAAO,CAACC,GAAR,CAAYP,MAAZ;MACD;;MACDA,MAAM,GAAGA,MAAM,CAACI,MAAP,CAAcX,OAAO,CAACS,OAAR,CAAgBT,OAAO,CAACS,OAAR,CAAgBC,MAAhB,GAAwB,CAAxC,EAA2CE,MAAzD,CAAT;MACAC,OAAO,CAACC,GAAR,CAAYP,MAAZ;MACA,MAAMX,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CACrB,4DAA2DD,OAAO,CAACe,KAAM,oBAAmBR,MAAO,EAD9E,CAAvB;IAED,CAjBM;;IAkBP,MAAMS,YAAN,CAAmB;MAACjB;IAAD,CAAnB,EAA4B;MAC1B,MAAMH,QAAQ,GAAG,MAAMT,KAAK,CAAC8B,GAAN,CAAW,sDAAX,CAAvB;MACAlB,MAAM,CAAC,cAAD,EAAiBH,QAAQ,CAACsB,IAAT,CAAcA,IAA/B,CAAN;IACD,CArBM;;IAsBP,MAAMC,cAAN,CAAqB;MAACpB;IAAD,CAArB,EAA+BC,OAA/B,EAAuC;MACrC,MAAMJ,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CAAY,4DAA2DD,OAAQ,EAA/E,CAAvB;MACA,OAAOJ,QAAP;IACD,CAzBM;;IA0BP,MAAMwB,aAAN,CAAoB;MAACrB;IAAD,CAApB,EAA8BC,OAA9B,EAAsC;MACpC,MAAMJ,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CAAY,kEAAiED,OAAO,CAACqB,EAAG,UAASrB,OAAO,CAACe,KAAM,EAA/G,CAAvB;MACA,OAAOnB,QAAP;IACD,CA7BM;;IA8BP,MAAM0B,aAAN,CAAoB;MAACvB;IAAD,CAApB,EAA8BC,OAA9B,EAAsC;MACpC,MAAMJ,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CAAY,+DAA8DD,OAAO,CAACqB,EAAG,gBAAerB,OAAO,CAACuB,IAAK,EAAjH,CAAvB;MACA,OAAO3B,QAAP;IACD,CAjCM;;IAkCP,MAAM4B,gBAAN,CAAuB;MAACzB;IAAD,CAAvB,EAAiCC,OAAjC,EAAyC;MACvC,MAAMJ,QAAQ,GAAG,MAAMT,KAAK,CAACc,IAAN,CAAY,mEAAkED,OAAO,CAACqB,EAAG,gBAAerB,OAAO,CAACuB,IAAK,EAArH,CAAvB;IACD;;EApCM;AAZmB,CAAf,CAAf"},"metadata":{},"sourceType":"module"}