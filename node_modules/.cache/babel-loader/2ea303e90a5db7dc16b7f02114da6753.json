{"ast":null,"code":"import _objectSpread from \"/home/etech/Desktop/vue_assignment/poll application/poll-application/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nimport router from '../router';\nexport default {\n  name: \"NavBar\",\n  data: function data() {\n    return {\n      show_Guest: false,\n      show_Admin: false,\n      loggenInDetail: null\n    };\n  },\n  // watch: {\n  // IsLogin(newVal, oldVal) {\n  //   console.log(\"Is login\", newVal, oldVal);\n  // }\n  // },\n  mounted: function mounted() {\n    console.log(\"mounted\");\n    this.loggenInDetail = localStorage.getItem('token');\n    console.log(loggenInDetail);\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions(['callEditpoll', 'callLogin'])), {}, {\n    handleEditPoll: function handleEditPoll() {\n      this.callEditpoll();\n    },\n    handleTakeVotePoll: function handleTakeVotePoll() {\n      this.callEditpoll();\n    },\n    handleLogOut: function handleLogOut() {\n      this.show_Guest = false;\n      this.show_Admin = false;\n      localStorage.removeItem('token');\n      localStorage.removeItem('role');\n      this.$router.push('/login');\n    },\n    handleAdminUser: function handleAdminUser() {\n      this.loggenInDetail = localStorage.getItem('token');\n      console.log(localStorage);\n\n      if (this.loggenInDetail) {\n        if (localStorage.getItem('role') == 'admin') {\n          this.show_Admin = true;\n        } else if (localStorage.getItem('role') == 'guest') {\n          this.show_Guest = true;\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }),\n  computed: {\n    currentRoute: function currentRoute() {\n      console.log(this.$route.name);\n      return this.$route.name;\n    } // IsLogin() {\n    //   const data = localStorage.getItem('token');\n    //   console.log(localStorage);\n    //   if(data){\n    //     if(localStorage.getItem('role') == 'admin'){\n    //       this.show_Admin = true;\n    //     } else if(localStorage.getItem('role') == 'guest') {\n    //       this.show_Guest = true;\n    //     }\n    //     return true;\n    //   }\n    //   return false;\n    // }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AAEA;EACAA,cADA;EAEAC,IAFA,kBAEA;IACA;MACAC,iBADA;MAEAC,iBAFA;MAGAC;IAHA;EAKA,CARA;EASA;EACA;EACA;EACA;EACA;EACAC,OAdA,qBAcA;IACAC;IACA;IACAA;EACA,CAlBA;EAmBAC,yCACAC,YACA,cADA,EAEA,WAFA,EADA;IAKAC,cALA,4BAKA;MACA;IACA,CAPA;IAQAC,kBARA,gCAQA;MACA;IACA,CAVA;IAWAC,YAXA,0BAWA;MACA;MACA;MACAC;MACAA;MACA;IACA,CAjBA;IAkBAC,eAlBA,6BAkBA;MACA;MACAP;;MACA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QACA;MACA;;MACA;IACA;EA9BA,EAnBA;EAmDAQ;IACAC,YADA,0BACA;MACAT;MACA;IACA,CAJA,CAKA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EAjBA;AAnDA","names":["name","data","show_Guest","show_Admin","loggenInDetail","mounted","console","methods","mapActions","handleEditPoll","handleTakeVotePoll","handleLogOut","localStorage","handleAdminUser","computed","currentRoute"],"sourceRoot":"src/components","sources":["NavBar.vue"],"sourcesContent":["<template>\n    <div>\n        <b-navbar class=\"spc-btw\" d-flex justify-content-between type=\"dark\" variant=\"info\">\n            <b-navbar-brand href=\"#\">Poll</b-navbar-brand>\n            <div class=\"main\">\n                <router-link v-if=\"currentRoute  === 'signup' && !handleAdminUser\" to=\"/login\">\n                <b-button  variant=\"dark\">Login</b-button>\n                </router-link>\n                <router-link v-if=\"currentRoute === 'login' && !handleAdminUser\" to=\"/signup\">\n                <b-button  variant=\"dark\">SignUp</b-button>\n                </router-link>\n                <!-- <router-link to=\"/logout\" v-if=\"loggenInDetail\">\n                <b-button  variant=\"dark\" @click=\"handleLogOut\">Log Out</b-button>\n                </router-link> -->\n                <!-- {{ loggenInDetail }} -->\n                {{show_Admin}}  {{show_Guest}}\n            </div>\n            <div class=\"adminOptions\" v-if=\"show_Admin\">\n                <router-link to=\"/createPoll\">\n                <b-button variant=\"light\">Create</b-button>\n                </router-link>\n                <router-link to=\"/editPoll\">\n                <b-button variant=\"light\">Edit</b-button>\n                </router-link>\n                <router-link to=\"/viewPoll\">\n                <b-button variant=\"light\" @click=\"handleEditPoll\">View</b-button>\n                </router-link>\n                <router-link to=\"/logout\" v-if=\"loggenInDetail\">\n                <b-button  variant=\"dark\" @click=\"handleLogOut\">Log Out</b-button>\n                </router-link>\n            </div>\n            <div class=\"guestOptions\" v-if=\"show_Guest\">\n                <router-link to=\"/viewPoll\">\n                <b-button variant=\"light\" @click=\"handleEditPoll\">View</b-button>\n                </router-link>\n                <router-link to=\"/takePoll\">\n                <b-button variant=\"light\" @click=\"handleTakeVotePoll\">Take</b-button>\n                </router-link>\n                <router-link to=\"/logout\" v-if=\"loggenInDetail\">\n                <b-button  variant=\"dark\" @click=\"handleLogOut\">Log Out</b-button>\n                </router-link>\n            </div>\n        </b-navbar>\n        <router-view/>\n    </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport router from '../router';\n\nexport default {\n    name: \"NavBar\",\n    data(){\n        return {\n            show_Guest: false,\n            show_Admin: false,\n            loggenInDetail: null,\n        }\n    },\n    // watch: {\n    // IsLogin(newVal, oldVal) {\n    //   console.log(\"Is login\", newVal, oldVal);\n    // }\n  // },\n  mounted() {\n        console.log(\"mounted\");\n        this.loggenInDetail = localStorage.getItem('token');\n        console.log(loggenInDetail);\n  },\n  methods: {\n    ...mapActions([\n            'callEditpoll',\n            'callLogin'\n        ]),\n    handleEditPoll(){\n      this.callEditpoll();\n    },\n    handleTakeVotePoll(){\n      this.callEditpoll();\n    },\n    handleLogOut(){\n      this.show_Guest = false;\n      this.show_Admin = false;\n      localStorage.removeItem('token');\n      localStorage.removeItem('role');\n      this.$router.push('/login');\n    },\n    handleAdminUser(){\n      this.loggenInDetail = localStorage.getItem('token')\n      console.log(localStorage)\n      if(this.loggenInDetail) {\n        if(localStorage.getItem('role') == 'admin'){\n          this.show_Admin = true;\n        } else if(localStorage.getItem('role') == 'guest') {\n          this.show_Guest = true;\n        }\n        return true;\n      }\n      return false;\n    }\n  },\n  computed: {\n    currentRoute() {\n      console.log(this.$route.name)\n      return this.$route.name;\n    },\n    // IsLogin() {\n    //   const data = localStorage.getItem('token');\n    //   console.log(localStorage);\n    //   if(data){\n    //     if(localStorage.getItem('role') == 'admin'){\n    //       this.show_Admin = true;\n    //     } else if(localStorage.getItem('role') == 'guest') {\n    //       this.show_Guest = true;\n    //     }\n    //     return true;\n    //   }\n    //   return false;\n    // }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}